export default {
  template: 'wizard',
  steps: [
    {
      form: 'wizard',
      props: {
        title: 'Create <%- _.capitalize(modelName) %>',
        subtitle: 'Fill out the form to create a <%- modelName %>',
        stepper: {
          stepIndex: 0,
          steps: [
            'Enter Data'
          ]
        }
      },
      validators: function(data) {
        return {
<% Object.keys(attributes).forEach(function(attribute, index) { %><%- include('partials/validator.wizard', { attribute: attribute, last: (index + 1) === Object.keys(attributes).length }) %><% }); %>
        };
      },
      fields: {
<% Object.keys(attributes).forEach(function(key, index) { %><%- include('partials/field.wizard', { key: key, attribute: attributes[key], last: (index + 1) === Object.keys(attributes).length }) %><% }); %>
      },
      actions: [
        {
          type: 'raised',
          props: (form) => {
            return {
              label: "Save",
              primary: true,
              disabled: form.hasError,
              onTouchTap: () => {
                form.callbacks.onNext(form.data)
              }
            }
          }
        }
      ]
    },
    {
      template: {
        type: 'request',
        props: (form) => {
          return {
            request: (data) => {
              return lore.actions.<%- modelName %>.create(data).payload;
            },
            reducer: '<%- modelName %>',
            onSuccess: form.callbacks.onResetWizard,
            onError: form.callbacks.onRequestError
          }
        }
      }
    }
  ]
};
